<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport"  content="width=device-width" />
    <title>Bespoke Remote Control</title>
    <style>
      /* Optimised for iphone 5 screen */
      #next {
        padding: 6em 10em;
        background: rgb(1, 211, 255);
        border: 0;
        position: absolute;
        bottom: 50px;
        right: 0;
      }
      #next:active { background: #00ADD1; }
      #prev {
        padding: 2em 1em;
        background: rgb(211, 52, 55);
        position: absolute;
        bottom: 50px;
        left: 0;
        border: 0;
      }
      #prev:active { background: #992224; }

      @media only screen and (min-width: 1024px) {
        #debug {
          display: none;
        }
      }
    </style>
</head>
<body>
    <!-- You don't usually have JS console on your smartphone/tablet
         thats why we have a "debug window" here -->
    <div id="debug"></div>

    <button id="next">Next</button>
    <button id="prev">Previous</button>

    <script src="http://localhost:<%= port %>/socket.io/socket.io.v0.9.15.js"></script>
    <script>
      var debug = document.getElementById('debug'),
          log = function (msg) {
            debug.innerHTML += '<p>'+msg+'</p>';
            if (window.console && console.log) {
              console.log(msg);
            }
          }

      log('Started...')

      var socket = io.connect('http://localhost:<%= port %>/')
      socket.on('bespoke-remote.established', function() {
        log('\u2605 Connection established.')
        socket.emit('bespoke-remote.ready', '');
      })

      document.getElementById('next').addEventListener('click', function(e) {
        socket.emit('bespoke-remote.next', '')
      })
      document.getElementById('prev').addEventListener('click', function(e) {
        socket.emit('bespoke-remote.prev', '')
      })
    </script>
</body>
</html>
